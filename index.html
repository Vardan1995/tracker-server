<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tracker Home</title>
</head>

<body>
    <h1 id="fullinf" style="color:green"></h1>
    <h2 id="inf" style="color:brown"></h2>
    <img id="im">
    </br>
    <input type="text" id="inp" placeholder="type a message">
    <button onclick="alertMessage()">SEND</button>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.3.0/socket.io.js"></script>



    <script>
        const image = document.getElementById("im")
        const socket = io.connect("https://tracker-serv.herokuapp.com")
        ///
        socket.emit('subscribe', 1234);
        socket.on('image', function (info) {

            fullinf.innerHTML = info.info.split('-').slice(-1)[0]
            inf.innerHTML = info.info
            image.style.width = "700.px"
            image.src = 'data:image/jpeg;base64,' + info.buffer;
        });
        ////

        function alertMessage() {

            socket.emit("alert", { room: 1234, message: inp.value })
            inp.value = ''
        }

    </script>
</body>

</html>